# 第3章 控制流

程序语言中的控制流语句用于控制各计算操作执行的次序。

## 3.1 语句与程序块

在表达式后加一个分号`(;)`变成**语句**，例如：

```C
x = 0;
i++;
printf("Hello World");
```

C语言中，分号是**语句结束符**。

用一对花括号`{`和`}`把一组声明和语句括在一起就构成了一个**复合语句（或者称为语句块）**。右花括号`{`用于结束程序块，其后不需要分号。

## 3.2 if-else语句

if-else语句用于**条件判断**，其中else部分是可选的，语法如下所示：

```C
if (表达式)
    语句1
else
    语句2
```

对于多个if-else语句叠加的情况，else部分与内存的if相互匹配，因此使用花括号强制实现正确的匹配关系。**建议在if语句嵌套的情况下使用花括号**。

## 3.3 else-if语句

C语言中常用到下列结构：

```C
if (表达式)
    语句1
else if (表达式)
    语句2
else if (表达式)
    语句3
else if (表达式)
    语句4
else
    语句5
```

该结构中的各个**表达式**将被依次求值，一旦某个表达式结果为真，则执行与之相关的语句，并终止整个语句序列的执行。**且各语句既可以是单条语句，也可以是用花括号括住的复合语句**。

**最后的else语句可以省略，也可以用来检查错误，以捕获不可能的条件**。

## 3.4 switch语句

switch语句是一种多路判定语句，**它测试表达式是否与一些常量整数值中的某一个值匹配，并执行相应的分支动作**。

```C
switch (表达式) {
    case 常量表达式:
        语句序列
    case 常量表达式:
        语句序列
    default:
        语句序列
}
```

各分支表达式必须互不相同。如果没有哪一分支匹配表达式，则只想标记为default的分支。default分支是可选的。如果没有default分支也没有其他分支与表达式的值匹配，则该switch语句不执行任何动作。**各分支及default分支的排列次序是任意的**。

除了一个计算需要多个标号的情况外，应尽量减少从一个分支直接进入下一个分支执行，这种做法在不得不使用的情况下，应该加上适当的程序注释。

## 3.5 while循环和for循环

while循环语句格式：

```C
while (表达式)
    语句
```

for循环语句格式：

```C
for (表达式1; 表达式2; 表达式3)
    语句
```

for循环语句等价于如下while循环语句：

```C
表达式1;
while (表达式2) {
    语句
    表达式3;
}
```

但是当while或for循环语句中包含continue语句是，上述二者之间就不一定等价。

在设计程序时，如果没有初始化或者重新初始化的操作，使用while循环语句更合适；如果语句中需要执行简单的初始化和变量递增，使用for循环语句更适合。

在for循环语句中，可以将多个表达式放在各个语句成分中，比如同时处理两个循环控制变量。



